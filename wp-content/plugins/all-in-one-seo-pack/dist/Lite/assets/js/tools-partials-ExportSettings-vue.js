(window["aioseopjsonp"]=window["aioseopjsonp"]||[]).push([["tools-partials-ExportSettings-vue"],{"824c":function(s,t,e){"use strict";e.r(t);var o=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("core-card",{staticClass:"aioseo-export-settings",attrs:{slug:"exportSettings",toggles:!1,"no-slide":"","header-text":s.strings.exportSettings},scopedSlots:s._u([{key:"header-icon",fn:function(){return[e("svg-upload")]},proxy:!0}])},[e("div",{staticClass:"export-settings",class:{"aioseo-settings-row":s.canExportPostOptions}},[e("grid-row",[e("grid-column",{staticClass:"export-all"},[e("base-checkbox",{attrs:{size:"medium"},model:{value:s.options.all,callback:function(t){s.$set(s.options,"all",t)},expression:"options.all"}},[s._v(" "+s._s(s.strings.allSettings)+" ")])],1),s._l(s.settings,(function(t,o){return e("grid-column",{key:o,attrs:{sm:"6"}},[s.options.all?s._e():e("base-checkbox",{attrs:{size:"medium"},model:{value:s.options[t.value],callback:function(e){s.$set(s.options,t.value,e)},expression:"options[setting.value]"}},[s._v(" "+s._s(t.label)+" ")]),"all"!==t.value&&s.options.all?e("base-checkbox",{attrs:{size:"medium",value:!0,disabled:""}},[s._v(" "+s._s(t.label)+" ")]):s._e()],1)}))],2)],1),s.canExportPostOptions?e("div",{staticClass:"export-post-types"},[e("grid-row",[e("grid-column",{staticClass:"export-all"},[e("base-checkbox",{attrs:{size:"medium"},model:{value:s.postOptions.all,callback:function(t){s.$set(s.postOptions,"all",t)},expression:"postOptions.all"}},[s._v(" "+s._s(s.strings.allPostTypes)+" ")])],1),s._l(s.$aioseo.postData.postTypes,(function(t,o){return e("grid-column",{key:o,attrs:{sm:"6"}},[s.postOptions.all?s._e():e("base-checkbox",{attrs:{size:"medium"},model:{value:s.postOptions[t.name],callback:function(e){s.$set(s.postOptions,t.name,e)},expression:"postOptions[postType.name]"}},[s._v(" "+s._s(t.label)+" ")]),"all"!==t.name&&s.postOptions.all?e("base-checkbox",{attrs:{size:"medium",value:!0,disabled:""}},[s._v(" "+s._s(t.label)+" ")]):s._e()],1)}))],2)],1):s._e(),e("base-button",{staticClass:"import",attrs:{type:"blue",size:"medium",disabled:!s.canExport,loading:s.loading},on:{click:s.processExportSettings}},[s._v(" "+s._s(s.strings.exportSettings)+" ")])],1)},i=[],a=e("5530"),n=(e("4de4"),e("159b"),e("b64b"),e("b0c0"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("2f62")),l={data:function(){return{options:{},postOptions:{},loading:!1,strings:{exportSettings:this.$t.__("Export Settings",this.$td),allSettings:this.$t.__("Export All Settings",this.$td),allPostTypes:this.$t.__("Export All Post Types",this.$td)}}},computed:{settings:function(){var s=this,t=[{value:"webmasterTools",label:this.$t.__("Webmaster Tools",this.$td),access:"aioseo_general_settings"},{value:"rssContent",label:this.$t.__("RSS Content",this.$td),access:"aioseo_general_settings"},{value:"advanced",label:this.$t.__("Advanced",this.$td),access:"aioseo_general_settings"},{value:"searchAppearance",label:this.$t.__("Search Appearance",this.$td),access:"aioseo_search_appearance_settings"},{value:"social",label:this.$t.__("Social Networks",this.$td),access:"aioseo_social_networks_settings"},{value:"sitemap",label:this.$t.__("Sitemaps",this.$td),access:"aioseo_sitemap_settings"},{value:"redirects",label:this.$t.__("Redirects",this.$td),access:"aioseo_redirects_settings"},{value:"breadcrumbs",label:this.$t.__("Breadcrumbs",this.$td),access:"aioseo_general_settings"},{value:"tools",label:this.$t.__("Tools",this.$td),access:"aioseo_tools_settings"}];return this.$isPro&&t.push({value:"accessControl",label:this.$t.__("Access Control",this.$td),access:"aioseo_admin"}),!this.isUnlicensed&&this.showImageSeoReset&&t.push({value:"image",label:this.$t.__("Image SEO",this.$td),access:"aioseo_search_appearance_settings"}),!this.isUnlicensed&&this.showLocalBusinessReset&&t.push({value:"localBusiness",label:this.$t.__("Local Business SEO",this.$td),access:"aioseo_local_seo_settings"}),t.filter((function(t){return s.$allowed(t.access)}))},canExport:function(){var s=this,t=[];return Object.keys(this.options).forEach((function(e){t.push(s.options[e])})),Object.keys(this.postOptions).forEach((function(e){t.push(s.postOptions[e])})),t.some((function(s){return s}))},canExportPostOptions:function(){var s=this;return["aioseo_page_general_settings","aioseo_page_advanced_settings","aioseo_page_schema_settings","aioseo_page_social_settings","aioseo_page_local_seo_settings"].some((function(t){return s.$allowed(t)}))}},methods:Object(a["a"])(Object(a["a"])({},Object(n["b"])(["exportSettings"])),{},{processExportSettings:function(){var s=this,t=[];this.options.all?(this.$isPro&&t.push("general"),t.push("internal"),this.settings.filter((function(s){return"all"!==s.value})).forEach((function(s){t.push(s.value)}))):Object.keys(this.options).forEach((function(e){s.options[e]&&t.push(e)}));var e=[];this.postOptions.all?this.$aioseo.postData.postTypes.forEach((function(s){e.push(s.name)})):Object.keys(this.postOptions).forEach((function(t){s.postOptions[t]&&e.push(t)})),this.loading=!0,this.exportSettings({settings:t,postOptions:e}).then((function(t){s.loading=!1,s.options={},s.postOptions={};var e=new Blob([JSON.stringify(t.body.settings)],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(e),o.download="aioseo-export-settings-".concat(s.$moment().format("YYYY-MM-DD"),".json"),o.click(),URL.revokeObjectURL(o.href)}))}})},c=l,r=(e("b395d"),e("2877")),p=Object(r["a"])(c,o,i,!1,null,null,null);t["default"]=p.exports},b395d:function(s,t,e){"use strict";e("d68e")},d68e:function(s,t,e){}}]);