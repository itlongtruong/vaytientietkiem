(window["aioseopjsonp"]=window["aioseopjsonp"]||[]).push([["redirects-Logs404-vue"],{5251:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aioseo-redirects-404-logs"},[s("transition-slide",{attrs:{active:t.showBulkAddRedirections}},[s("div",{staticClass:"add-bulk-redirects-wrapper"},[s("core-card",{attrs:{slug:"bulkAddNewRedirection","header-text":t.strings.addNewRedirections,toggles:!1,"no-slide":"",closes:""},on:{"close-card":function(e){t.showBulkAddRedirections=!1}}},[s("core-add-redirection",{key:t.redirect404UrlsKey,attrs:{log404:"",type:t.getDefaultRedirectType,query:t.getDefaultQueryParam,slash:t.options.defaults.ignoreSlash,case:t.options.defaults.ignoreCase,urls:t.get404RedirectUrls},on:{"added-redirect":t.addedRedirect}})],1)],1)]),s("base-wp-table",{key:t.wpTableKey,attrs:{filters:[],totals:t.totals.total404,columns:t.columns,rows:t.logs404,loading:t.wpTableLoading,"show-search":!1,"bulk-options":t.bulkOptions},on:{"process-bulk-action":t.processBulkAction,paginate:t.processPagination},scopedSlots:t._u([{key:"last_accessed",fn:function(e){var s=e.column;return[t._v(" "+t._s(t.$moment.utc(s).tz(t.$moment.tz.guess()).format("MMMM D, YYYY"))+" "+t._s(t.strings.at)+" "+t._s(t.$moment.utc(s).tz(t.$moment.tz.guess()).format("h:mm a"))+" ")]}},{key:"redirect",fn:function(e){var i=e.index,n=e.editRow;return[s("a",{staticClass:"add-redirect",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),n(i)}}},[s("svg-redirect"),t._v(t._s(t.strings.addRedirect)+" ")],1)]}},{key:"actions",fn:function(e){var i=e.index,n=e.row;return[s("div",{staticClass:"actions-404-wrapper"},[s("core-tooltip",{attrs:{type:"action"},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(t.strings.additionalInfo)+" ")]},proxy:!0}],null,!0)},[s("svg-circle-information",{staticClass:"log-info",nativeOn:{click:function(e){return t.showInfo(n)}}})],1),s("core-tooltip",{attrs:{type:"action"},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(t.strings.delete)+" ")]},proxy:!0}],null,!0)},[s("svg-trash",{staticClass:"remove-404",nativeOn:{click:function(e){return t.maybeDelete404(i)}}})],1)],1)]}},{key:"edit-row",fn:function(e){var i=e.row,n=e.editRow;return[s("core-add-404-redirection",{attrs:{url:{id:i.id,url:i.url,errors:[],warnings:[]},type:t.getDefaultRedirectType},on:{"added-redirect":t.refreshTable,cancel:function(t){return n(null)}}})]}}])}),t.showDeleteModal?s("core-modal",{attrs:{"no-header":""},scopedSlots:t._u([{key:"body",fn:function(){return[s("div",{staticClass:"aioseo-modal-body"},[s("button",{staticClass:"close",on:{click:function(e){e.stopPropagation(),t.showDeleteModal=!1}}},[s("svg-close",{on:{click:function(e){t.showDeleteModal=!1}}})],1),s("h3",[t._v(t._s(t.strings.areYouSureDeleteLog))]),s("div",{staticClass:"reset-description",domProps:{innerHTML:t._s(t.strings.actionCannotBeUndone)}}),s("base-button",{attrs:{type:"blue",size:"medium",loading:t.deletingLog},on:{click:t.processDelete404}},[t._v(" "+t._s(t.strings.yesDeleteLog)+" ")]),s("base-button",{attrs:{type:"gray",size:"medium"},on:{click:function(e){t.showDeleteModal=!1}}},[t._v(" "+t._s(t.strings.noChangedMind)+" ")])],1)]},proxy:!0}],null,!1,3796475992)}):t._e(),t.activeRow?s("core-modal",{on:{close:function(e){t.activeRow=null}},scopedSlots:t._u([{key:"headerTitle",fn:function(){return[t._v(" "+t._s(t.strings.additionalInfo)+" ")]},proxy:!0},{key:"body",fn:function(){return[s("div",{staticClass:"aioseo-modal-body info"},[s("div",[s("strong",[t._v(t._s(t.strings.url)+":")]),t._v(" "+t._s(t.activeRow.url)+" ")]),s("div",[s("strong",[t._v(t._s(t.strings.hits)+":")]),t._v(" "+t._s(t.activeRow.hits)+" ")]),s("div",[s("strong",[t._v(t._s(t.strings.lastAccessed)+":")]),t._v(" "+t._s(t.$moment.utc(t.activeRow.last_accessed).tz(t.$moment.tz.guess()).format("MMMM D, YYYY"))+" "+t._s(t.strings.at)+" "+t._s(t.$moment.utc(t.activeRow.last_accessed).tz(t.$moment.tz.guess()).format("h:mm a"))+" ")]),t.activeRow.ip?s("div",[s("strong",[t._v(t._s(t.strings.lastIp)+":")]),t._v(" "),s("code",[t._v(t._s(t.activeRow.ip))])]):t._e(),t.getHeaderInfo(t.activeRow)?s("div",[s("strong",[t._v(t._s(t.strings.headers)+":")]),s("table",{staticClass:"header-table"},t._l(t.getHeaderInfo(t.activeRow),(function(e,i){return s("tr",{key:i},[s("td",[s("strong",[t._v(t._s(i)+":")])]),s("td",[t._v(t._s(e))])])})),0)]):t._e()])]},proxy:!0}],null,!1,1360068377)}):t._e()],1)},n=[],o=(s("4de4"),s("7db0"),s("d81d"),s("5530")),r=s("2f62"),a=s("9c0e"),l={mixins:[a["d"]],data:function(){return{activeRow:null,redirect404UrlsKey:1,redirect404Urls:[],showBulkAddRedirections:!1,deletingLog:!1,showDeleteModal:!1,shouldDeleteLog:null,wpTableKey:0,wpTableLoading:!1,bulkOptions:[{label:this.$t.__("Add Redirects",this.$td),value:"add-redirects"},{label:this.$t.__("Delete",this.$td),value:"delete"}],strings:{lastIp:this.$t.__("Last IP",this.$td),headers:this.$t.__("Headers",this.$td),at:this.$t.__("at",this.$td),addRedirect:this.$t.__("Add Redirect",this.$td),additionalInfo:this.$t.__("Additional Info",this.$td),delete:this.$t.__("Delete",this.$td),areYouSureDeleteLog:this.$t.__("Are you sure you want to delete this record?",this.$td),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$td),yesDeleteLog:this.$t.__("Yes, I want to delete this record",this.$td),noChangedMind:this.$t.__("No, I changed my mind",this.$td),addNewRedirections:this.$t.__("Add New Redirections",this.$td),url:this.$t.__("URL",this.$td),hits:this.$t.__("Hits",this.$td),lastAccessed:this.$t.__("Last Accessed",this.$td)}}},watch:{logs404:{deep:!0,handler:function(){this.wpTableKey+=1}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["c"])("redirects",["logs404"])),Object(r["e"])("redirects",["filters","totals","options"])),{},{columns:function(){return[{slug:"url",label:this.strings.url},{slug:"hits",label:this.strings.hits,width:"97px"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px"},{slug:"redirect",label:this.$t.__("Redirect",this.$td),width:"120px"},{slug:"actions",label:"",width:"65px"}]},getDefaultRedirectType:function(){var t=this.getJsonValue(this.options.defaults.redirectType);return t||(t=this.$constants.REDIRECT_TYPES[0]),t.value},getDefaultQueryParam:function(){var t=this.getJsonValue(this.options.defaults.queryParam);return t||(t=this.$constants.REDIRECT_QUERY_PARAMS[0]),t.value},get404RedirectUrls:function(){return this.redirect404Urls.map((function(t){return{url:t,errors:[],warnings:[]}}))}}),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])("redirects",["filter","paginate","delete404"])),{},{showInfo:function(t){this.activeRow=t},getHeaderInfo:function(t){var e=JSON.parse(t.request_data);return e.headers?e.headers:null},addedRedirect:function(){this.refreshTable(),this.showBulkAddRedirections=!1},refreshTable:function(){var t=this;this.wpTableLoading=!0,this.filter({slug:"404"}).then((function(){t.wpTableLoading=!1,t.filter({slug:"all"})}))},processBulkAction:function(t){var e=this,s=t.action,i=t.selectedRows;if(i.length){if("delete"===s)return this.wpTableLoading=!0,this.delete404(i).then((function(){e.wpTableLoading=!1,e.refreshTable()}));this.showBulkAddRedirections=!0,this.redirect404UrlsKey+=1,this.redirect404Urls=i}},processPagination:function(t){var e=this;this.wpTableLoading=!0,this.paginate({page:t,paginate404:!0,filter:{slug:"404"}}).then((function(){e.wpTableLoading=!1}))},maybeDelete404:function(t){var e=this.logs404.find((function(e,s){return s===t}));e&&(this.showDeleteModal=!0,this.shouldDeleteLog=e.url)},processDelete404:function(){var t=this;this.deletingLog=!0,this.wpTableLoading=!0,this.delete404([this.shouldDeleteLog]).then((function(){t.wpTableLoading=!1,t.deletingLog=!1,t.showDeleteModal=!1,t.shouldDeleteLog=null,t.refreshTable()}))}})},d=l,c=(s("781b"),s("2877")),u=Object(c["a"])(d,i,n,!1,null,null,null);e["default"]=u.exports},"781b":function(t,e,s){"use strict";var i=s("f412"),n=s.n(i);n.a},f412:function(t,e,s){}}]);