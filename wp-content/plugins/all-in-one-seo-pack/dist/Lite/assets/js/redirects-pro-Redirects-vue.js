(window["aioseopjsonp"]=window["aioseopjsonp"]||[]).push([["redirects-pro-Redirects-vue"],{"50e1":function(e,t,s){"use strict";var i=s("dd0c"),r=s.n(i);r.a},dd0c:function(e,t,s){},f9ef:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"aioseo-redirects"},[s("core-card",{attrs:{slug:"addNewRedirection","header-text":e.strings.addNewRedirection}},[s("core-add-redirection",{attrs:{type:e.getDefaultRedirectType,query:e.getDefaultQueryParam,slash:e.options.defaults.ignoreSlash,case:e.options.defaults.ignoreCase},on:{"added-redirect":e.refreshTable}})],1),s("base-wp-table",{key:e.wpTableKey,attrs:{filters:e.filters,totals:e.totals.main,columns:e.columns,rows:e.rows,loading:e.wpTableLoading,"search-label":e.strings.searchUrls,"bulk-options":e.bulkOptions,"additional-filters":e.additionalFilters},on:{"filter-table":e.filterTable,"process-bulk-action":e.processBulkAction,"process-additional-filters":e.processAdditionalFilters,paginate:e.processPagination,search:e.processSearch},scopedSlots:e._u([{key:"source_url",fn:function(t){var i=t.row,r=t.index,n=t.column,a=t.editRow;return[s("strong",[s("a",{staticClass:"edit-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),a(r)}}},[e._v(e._s(n))])]),s("div",{staticClass:"row-actions"},[s("span",{staticClass:"edit"},[s("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),a(r)}}},[e._v(e._s(e.strings.edit))]),e._v(" | ")]),i.regex?e._e():s("span",{staticClass:"test"},[s("a",{attrs:{href:e.$aioseo.urls.mainSiteUrl+n,target:"_blank"}},[e._v(e._s(e.strings.checkRedirect))]),e._v(" | ")]),s("span",{staticClass:"trash"},[s("a",{staticClass:"submitdelete",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.maybeDeleteRow(r)}}},[e._v(e._s(e.strings.delete))])])])]}},{key:"type",fn:function(t){var s=t.column;return[e._v(" "+e._s(e.getColumnLabel(s))+" ")]}},{key:"enabled",fn:function(t){var i=t.column,r=t.row;return[s("base-toggle",{attrs:{value:i},on:{input:function(t){return e.toggleInput(r,i)}}})]}},{key:"edit-row",fn:function(e){var t=e.row,i=e.editRow;return[s("core-add-redirection",{attrs:{edit:"",url:{id:t.id,url:t.source_url,regex:t.regex,ignoreSlash:t.ignore_slash,ignoreCase:t.ignore_case,showOptions:!0,errors:[],warnings:[]},target:t.target_url,type:t.type,query:t.query_param},on:{cancel:function(e){return i(null)}}})]}}])}),e.showDeleteModal?s("core-modal",{attrs:{"no-header":""},scopedSlots:e._u([{key:"body",fn:function(){return[s("div",{staticClass:"aioseo-modal-body"},[s("button",{staticClass:"close",on:{click:function(t){t.stopPropagation(),e.showDeleteModal=!1}}},[s("svg-close",{on:{click:function(t){e.showDeleteModal=!1}}})],1),s("h3",[e._v(e._s(e.areYouSureDeleteRedirect))]),s("div",{staticClass:"reset-description",domProps:{innerHTML:e._s(e.strings.actionCannotBeUndone)}}),s("base-button",{attrs:{type:"blue",size:"medium",loading:e.deletingRow},on:{click:e.processDeleteRow}},[e._v(" "+e._s(e.yesDeleteRedirect)+" ")]),s("base-button",{attrs:{type:"gray",size:"medium"},on:{click:function(t){e.showDeleteModal=!1}}},[e._v(" "+e._s(e.strings.noChangedMind)+" ")])],1)]},proxy:!0}],null,!1,1995483884)}):e._e()],1)},r=[],n=(s("99af"),s("4de4"),s("7db0"),s("c740"),s("ac1f"),s("841c"),s("5530")),a=s("2f62"),l=s("9c0e"),o={mixins:[l["d"]],data:function(){return{deletingRow:!1,showDeleteModal:!1,shouldDeleteRow:null,wpTableKey:0,wpTableLoading:!1,strings:{addNewRedirection:this.$t.__("Add New Redirection",this.$td),searchUrls:this.$t.__("Search URLs",this.$td),edit:this.$t.__("Edit",this.$td),checkRedirect:this.$t.__("Check Redirect",this.$td),delete:this.$t.__("Delete",this.$td),areYouSureDeleteRedirect:this.$t.__("Are you sure you want to delete this redirect?",this.$td),areYouSureDeleteRedirects:this.$t.__("Are you sure you want to delete these redirects?",this.$td),actionCannotBeUndone:this.$t.__("This action cannot be undone.",this.$td),yesDeleteRedirect:this.$t.__("Yes, I want to delete this redirect",this.$td),yesDeleteRedirects:this.$t.__("Yes, I want to delete these redirects",this.$td),noChangedMind:this.$t.__("No, I changed my mind",this.$td)},bulkOptions:[{label:this.$t.__("Enable",this.$td),value:"enable"},{label:this.$t.__("Disable",this.$td),value:"disable"},{label:this.$t.__("Reset Hits",this.$td),value:"reset-hits"},{label:this.$t.__("Delete",this.$td),value:"delete"}]}},watch:{rows:{deep:!0,handler:function(){this.wpTableKey+=1}}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(a["c"])("redirects",["rows","getCurrentFilter"])),Object(a["e"])("redirects",["filters","totals","options","selectedFilters"])),{},{areYouSureDeleteRedirect:function(){return Array.isArray(this.shouldDeleteRow)?this.strings.areYouSureDeleteRedirects:this.strings.areYouSureDeleteRedirect},yesDeleteRedirect:function(){return Array.isArray(this.shouldDeleteRow)?this.strings.yesDeleteRedirects:this.strings.yesDeleteRedirect},columns:function(){var e=[{slug:"source_url",label:this.$t.__("Source URL",this.$td)},{slug:"target_url",label:this.$t.__("Target URL",this.$td)},{slug:"hits",label:this.$t.__("Hits",this.$td),width:"97px"},{slug:"type",label:this.$t.__("Type",this.$td),width:"100px"},{slug:"group",label:this.$t.__("Group",this.$td),width:"150px"},{slug:"enabled",label:this.$constants.GLOBAL_STRINGS.enabled,width:"80px"}];if("server"===this.options.main.method){var t=e.findIndex((function(e){return"hits"===e.slug}));-1!==t&&this.$delete(e,t)}return e},getDefaultRedirectType:function(){var e=this.getJsonValue(this.options.defaults.redirectType);return e||(e=this.$constants.REDIRECT_TYPES[0]),e.value},getDefaultQueryParam:function(){var e=this.getJsonValue(this.options.defaults.queryParam);return e||(e=this.$constants.REDIRECT_QUERY_PARAMS[0]),e.value},additionalFilters:function(){return[{label:this.$t.__("Filter by Group",this.$td),name:"group",options:[{label:this.$t.__("All Groups",this.$td),value:"all"}].concat(this.$constants.REDIRECT_GROUPS)}]}}),methods:Object(n["a"])(Object(n["a"])({},Object(a["b"])("redirects",["filter","bulk","paginate","search","delete"])),{},{filterTable:function(e){var t=this;this.wpTableLoading=!0,this.filter(e).then((function(){t.wpTableLoading=!1}))},refreshTable:function(){this.filterTable({slug:"all"})},toggleInput:function(e,t){var s=this;this.wpTableLoading=!0,this.bulk({action:t?"disable":"enable",rowIds:[e.id]}).then((function(){s.wpTableLoading=!1}))},processBulkAction:function(e){var t=this,s=e.action,i=e.selectedRows;if(i.length){if("delete"===s)return this.shouldDeleteRow=i,void(this.showDeleteModal=!0);this.wpTableLoading=!0,this.bulk({action:s,rowIds:i}).then((function(){t.wpTableLoading=!1}))}},processAdditionalFilters:function(e){var t=e.filters,s=this.getCurrentFilter||{slug:"all"};this.filterTable({slug:s.slug,additional:t})},processPagination:function(e,t){var s=this;this.wpTableLoading=!0;var i=t?"search":"paginate";this[i]({searchTerm:t,page:e,additional:this.selectedFilters}).then((function(){s.wpTableLoading=!1}))},processSearch:function(e){var t=this;this.wpTableLoading=!0,this.search({searchTerm:e,page:1}).then((function(){t.wpTableLoading=!1}))},getColumnLabel:function(e){return 0===e?this.$t.__("Pass through",this.$td):e},maybeDeleteRow:function(e){var t=this.rows.find((function(t,s){return s===e}));t&&(this.showDeleteModal=!0,this.shouldDeleteRow=t.id)},processDeleteRow:function(){var e=this;if(this.deletingRow=!0,Array.isArray(this.shouldDeleteRow))return this.bulk({action:"delete",rowIds:this.shouldDeleteRow}).then((function(){e.deletingRow=!1,e.showDeleteModal=!1,e.shouldDeleteRow=null,e.refreshTable()}));this.delete(this.shouldDeleteRow).then((function(){e.deletingRow=!1,e.showDeleteModal=!1,e.shouldDeleteRow=null,e.refreshTable()}))}})},d=o,c=(s("50e1"),s("2877")),u=Object(c["a"])(d,i,r,!1,null,null,null);t["default"]=u.exports}}]);